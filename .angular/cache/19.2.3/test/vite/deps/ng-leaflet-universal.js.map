{
  "version": 3,
  "sources": ["../../../../../../node_modules/ng-leaflet-universal/fesm2020/ng-leaflet-universal.mjs"],
  "sourcesContent": ["import { map, tileLayer, FeatureGroup, Marker, divIcon } from 'leaflet';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Output, Input, NgModule } from '@angular/core';\nfunction generate(prefix = 'ng-leaflet-universal') {\n  const hexstring = Math.random().toString(16).slice(2);\n  return [prefix, hexstring].filter(Boolean).join('-');\n}\nconst getCardHtml = card => card?.customHtml ? card.customHtml : `\n    <div class=\"map-card\">\n      <div class=\"map-card-body\">\n        <div class=\"top-card\">\n          <img src=\"${card?.image?.url}\" alt=\"${card?.title?.text}\" />\n          <div class=\"content\">\n            <h2 class=\"map-card-title\">${card?.title?.text}</h2>\n            <h4 class=\"map-card-subtitle\">${card?.subtitle?.text}</h4>\n            <h5 class=\"map-address\">${card?.address?.text}</h5>\n          </div>\n        </div>\n        <div class=\"map-card-content\">\n          ${card?.content?.text}\n        </div>\n        <div class=\"cta-wrapper\">\n          ${card?.callToActions?.map(cta => `\n              <a href=\"${cta.link}\"\n                target=\"_blank\"\n                style=\"\n                background-color: ${cta.backgroundColor || '#007FFF'};\n                color: ${cta.textColor || 'white'};\"\n                class=\"map-card-cta\">\n                  ${cta.icon ? `<i class=\"${cta.icon}\"></i>` : ''}\n              ${cta.text}</a>\n              `).reduce((a, b) => a + b)}\n          </div>\n      </div>\n    </div>`;\nclass MapComponent {\n  constructor() {\n    this.mapEvent = new EventEmitter();\n    this.id = generate('div');\n  }\n  ngOnChanges(changes) {\n    if (changes.markers && this.map) {\n      this.updateMarkers(this.markers);\n    }\n  }\n  ngAfterViewInit() {\n    this.map = map(this.id).setView([18.4, -66.9], 4);\n    tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: 'Map data © OpenStreetMap contributors'\n    }).addTo(this.map);\n    this.updateMarkers(this.markers);\n  }\n  removeMarkers() {\n    this.map.eachLayer(layer => {\n      // Ignore tile layer\n      if (layer.options?.attribution) return;\n      // Previous (markers)\n      layer.remove();\n    });\n  }\n  updateMarkers(markers) {\n    this.removeMarkers();\n    if (!markers?.length) return;\n    const leafletMarkers = markers.map(createLeafletMarker).map((marker, i) => {\n      return marker.on('click', () => this.mapEvent.emit(markers[i]));\n    });\n    const group = new FeatureGroup(leafletMarkers);\n    group.addTo(this.map);\n    this.map.fitBounds(group.getBounds());\n  }\n}\nMapComponent.ɵfac = function MapComponent_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || MapComponent)();\n};\nMapComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: MapComponent,\n  selectors: [[\"ng-leaflet-universal\"]],\n  inputs: {\n    markers: \"markers\"\n  },\n  outputs: {\n    mapEvent: \"mapEvent\"\n  },\n  standalone: false,\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 3,\n  vars: 1,\n  consts: [[1, \"map\"], [1, \"map-frame\"], [3, \"id\"]],\n  template: function MapComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"div\", 2);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"id\", ctx.id);\n    }\n  },\n  styles: [\".map[_ngcontent-%COMP%]{position:absolute;inset:0}.map[_ngcontent-%COMP%]   .map-frame[_ngcontent-%COMP%], .map[_ngcontent-%COMP%]   .map-frame[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%}  .leaflet-popup-tip{border-radius:0 0 20%!important}  .map-marker-icon .item-marker{border-radius:100% 100% 100% 35%;border:2px solid #444444;width:22px!important;height:22px!important;background-color:#444;box-shadow:0 0 3px #0000005d;transform:rotate(-45deg);overflow:hidden}  .map-marker-icon .item-marker .icon-image{width:100%;height:100%;border-radius:100%;background-position:center;background-size:cover;transform:rotate(38deg)}  .leaflet-container a.leaflet-popup-close-button{position:absolute;top:5px;right:5px;padding:3px!important;color:#ff0f0f98;text-decoration:none;font-weight:700;background:#f2f2f2}  .leaflet-container a.leaflet-popup-close-button:hover{color:#ff0f0f}  .leaflet-popup{bottom:32px!important}  .leaflet-popup-content{min-width:350px!important;height:auto!important}  .leaflet-popup-content .map-card .map-card-body{padding:10px}  .leaflet-popup-content .map-card .map-card-body .top-card{display:flex;align-items:center}  .leaflet-popup-content .map-card .map-card-body .top-card img{width:100px;height:100px;margin-right:20px}  .leaflet-popup-content .map-card .map-card-body .top-card .content .map-card-title{font-weight:700;margin:0}  .leaflet-popup-content .map-card .map-card-body .top-card .content .map-card-subtitle{font-weight:400;font-size:14px;color:#585858;margin:0}  .leaflet-popup-content .map-card .map-card-body .top-card .content .map-card-content h4{font-size:16px}  .leaflet-popup-content .map-card .map-card-body .top-card .content .map-card-content p{font-size:14px}  .leaflet-popup-content .map-card .map-card-body .cta-wrapper{margin-top:20px;width:100%;display:grid;grid-template-columns:repeat(3,1fr);grid-gap:15px}  .leaflet-popup-content .map-card .map-card-body .cta-wrapper .map-card-cta{cursor:pointer;text-decoration:none;border:none;padding:8px 10px;font-size:12px;text-align:center;margin-bottom:6px;height:20px;display:flex;justify-content:center;align-items:center;border-radius:2px}  .leaflet-popup-content .map-card .map-card-body .cta-wrapper .map-card-cta:hover{opacity:.6}  .leaflet-popup-content .map-card .map-card-body .cta-wrapper .map-card-cta i{margin-right:5px;font-size:10px}\"],\n  changeDetection: 0\n});\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MapComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ng-leaflet-universal',\n      template: `\n    <div class=\"map\">\n      <div class=\"map-frame\">\n        <div [id]=\"id\"></div>\n      </div>\n    </div>\n  `,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      styles: [\".map{position:absolute;inset:0}.map .map-frame,.map .map-frame div{height:100%}::ng-deep .leaflet-popup-tip{border-radius:0 0 20%!important}::ng-deep .map-marker-icon .item-marker{border-radius:100% 100% 100% 35%;border:2px solid #444444;width:22px!important;height:22px!important;background-color:#444;box-shadow:0 0 3px #0000005d;transform:rotate(-45deg);overflow:hidden}::ng-deep .map-marker-icon .item-marker .icon-image{width:100%;height:100%;border-radius:100%;background-position:center;background-size:cover;transform:rotate(38deg)}::ng-deep .leaflet-container a.leaflet-popup-close-button{position:absolute;top:5px;right:5px;padding:3px!important;color:#ff0f0f98;text-decoration:none;font-weight:700;background:#f2f2f2}::ng-deep .leaflet-container a.leaflet-popup-close-button:hover{color:#ff0f0f}::ng-deep .leaflet-popup{bottom:32px!important}::ng-deep .leaflet-popup-content{min-width:350px!important;height:auto!important}::ng-deep .leaflet-popup-content .map-card .map-card-body{padding:10px}::ng-deep .leaflet-popup-content .map-card .map-card-body .top-card{display:flex;align-items:center}::ng-deep .leaflet-popup-content .map-card .map-card-body .top-card img{width:100px;height:100px;margin-right:20px}::ng-deep .leaflet-popup-content .map-card .map-card-body .top-card .content .map-card-title{font-weight:700;margin:0}::ng-deep .leaflet-popup-content .map-card .map-card-body .top-card .content .map-card-subtitle{font-weight:400;font-size:14px;color:#585858;margin:0}::ng-deep .leaflet-popup-content .map-card .map-card-body .top-card .content .map-card-content h4{font-size:16px}::ng-deep .leaflet-popup-content .map-card .map-card-body .top-card .content .map-card-content p{font-size:14px}::ng-deep .leaflet-popup-content .map-card .map-card-body .cta-wrapper{margin-top:20px;width:100%;display:grid;grid-template-columns:repeat(3,1fr);grid-gap:15px}::ng-deep .leaflet-popup-content .map-card .map-card-body .cta-wrapper .map-card-cta{cursor:pointer;text-decoration:none;border:none;padding:8px 10px;font-size:12px;text-align:center;margin-bottom:6px;height:20px;display:flex;justify-content:center;align-items:center;border-radius:2px}::ng-deep .leaflet-popup-content .map-card .map-card-body .cta-wrapper .map-card-cta:hover{opacity:.6}::ng-deep .leaflet-popup-content .map-card .map-card-body .cta-wrapper .map-card-cta i{margin-right:5px;font-size:10px}\\n\"]\n    }]\n  }], null, {\n    mapEvent: [{\n      type: Output\n    }],\n    markers: [{\n      type: Input\n    }]\n  });\n})();\nfunction createLeafletMarker(marker) {\n  const leafletMarker = new Marker({\n    lat: marker.location.latitude,\n    lng: marker.location.longitude\n  });\n  leafletMarker.setIcon(divIcon({\n    html: marker.html || `\n      <div class=\"item-marker\">\n          <div class=\"icon-image\" style=\"background-image: url('${marker.icon}')\">\n          </div>\n      </div>`,\n    className: 'map-marker-icon',\n    iconSize: [26, 30],\n    iconAnchor: [13, 30]\n  }));\n  leafletMarker.on('click', function ({\n    target,\n    latlng\n  }) {\n    if (marker.cardActivated && marker?.card) {\n      const html = getCardHtml(marker.card);\n      const popup = target.getPopup();\n      if (popup) popup?.openPopup();else {\n        target.bindPopup(html, {\n          autoClose: false,\n          maxWidth: 200\n        }).openPopup();\n      }\n    }\n    target._map.setView(latlng, 15);\n  });\n  return leafletMarker;\n}\nclass NgLeafletUniversalModule {}\nNgLeafletUniversalModule.ɵfac = function NgLeafletUniversalModule_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || NgLeafletUniversalModule)();\n};\nNgLeafletUniversalModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NgLeafletUniversalModule,\n  declarations: [MapComponent],\n  exports: [MapComponent]\n});\nNgLeafletUniversalModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgLeafletUniversalModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [MapComponent],\n      exports: [MapComponent]\n    }]\n  }], null, null);\n})();\n\n/*\n * Public API Surface of ng-leaflet-universal\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MapComponent, NgLeafletUniversalModule };\n"],
  "mappings": "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",
  "names": []
}
